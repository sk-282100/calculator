<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="../Plugin/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../CSS/RDcloser.css">
    <script src="../Plugin/library/jquery-3.6.0.min.js"></script>
    <script>

        $(document).ready(function () {
            $("#show-maturity-value").on('click', function () {
                $("#rangePrimary").change(function () {
                    var x = $("#rangePrimary").val()
                    $("#slider").val(x)
                })
                $("#rangePrimary1").change(function () {
                    var y = $("#rangePrimary1").val()
                    $("#slider1").val(y)
                })
                $("#rangePrimary2").change(function () {
                    var z = $("#rangePrimary2").val()
                    $("#slider2").val(z)
                })
                showDetails();
            });

        });
        function showDetails() {

            var monthlyInvestment = $("#rangePrimary").val()
            var intrestRate = $("#rangePrimary1").val()
            var timePeriod = $("#rangePrimary2").val()
            var compoundIntrest = $("#int").val()
            console.log(monthlyInvestment);
            console.log(intrestRate);
            console.log(timePeriod);
            console.log(compoundIntrest);

           var totalInvestment = monthlyInvestment; 
            if (compoundIntrest == 4) {
                var maturityAmout = monthlyInvestment * [(1 + (intrestRate / 100) / 4) ** (4 * timePeriod)];
                
            }
            else if (compoundIntrest == 6) {
               var maturityAmout = monthlyInvestment * [(1 + (intrestRate / 100) / 6) ** (6 * timePeriod)];
                
            }
            else if (compoundIntrest == 1) {
               var maturityAmout = monthlyInvestment * [(1 + (intrestRate / 100) / 1) ** (1 * timePeriod)];
               
            }
            else {
                var maturityAmout = monthlyInvestment * [(1 + (intrestRate / 100) / 12) ** (12 * timePeriod)];
            }

            // Maturity amount = Deposite amount *[(1 + interestrate/ interest frequency) ^ (interest frequency  tenure)]
            //     = 100000[(1+(6/100)/4)^(6*4)]
            // 	= 142950.281193


            var totalIntrest = (maturityAmout - monthlyInvestment);

            $("#tinv").html(totalInvestment);
            $("#tint").html(totalIntrest);
            $("#matval").html(maturityAmout);
        } 
    </script>
</head>

<body>

    <div class="col-md-6">

        <button>Homepage</button>
        <br />

        <div class="container">

            <label>Monthly Investment*</label>
            <br />
            <input type="text" class="float-end inputText" id="rangePrimary" required />

            <input id="slider" class="slider" type="range" name="range" step="1" min="1" max="100000" value=""
                onchange="rangePrimary.value=value" required>
            <br />
            <label>Rate of Interest*</label>
            <br />
            <input type="text" class="float-end inputText" id="rangePrimary1" required />

            <input id="slider1" class="slider" type="range" name="range" step="1" min="1" max="20" value=""
                onchange="rangePrimary1.value=value" required />

            <br />
            <label>Time Period*</label>
            <br />
            <input type="text" class="float-end inputText" id="rangePrimary2" required />

            <input id="slider2" class="slider" type="range" name="range" step="1" min="1" max="100" value=""
                onchange="rangePrimary2.value=value" required />
            <br />
            <label for="int">Interest Compounding:</label>
            <select name="interest" id="int" style="height: 30px;">
                <option value="4">Quarterly</option>
                <option value="6">Half-Yearly</option>
                <option value="1">Yearly</option>
                <option value="12">Monthly</option>
            </select>
            <br />
            <br />

            <button type="submit" id="show-maturity-value" onclick="showDetails()" class="btn btn-info btn1">Show
                Maturity Value</button>
            <div>
                <table>
                    <tr>
                        <td>
                            <section> Total Investment:<span id="tinv"></span></section>
                        </td>
                        <td>
                            <section> Total Interest:<span id="tint"></span></section>
                        </td>
                        <td>
                            <section> Maturity Value: <span id="matval"></span></section>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

</body>

</html>